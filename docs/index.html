<!DOCTYPE html><html class="default" lang="en"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="IE=edge"/><title>node-api</title><meta name="description" content="Documentation for node-api"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="assets/style.css"/><link rel="stylesheet" href="assets/highlight.css"/><script defer src="assets/main.js"></script><script async src="assets/icons.js" id="tsd-icons-script"></script><script async src="assets/search.js" id="tsd-search-script"></script><script async src="assets/navigation.js" id="tsd-nav-script"></script></head><body><script>document.documentElement.dataset.theme = localStorage.getItem("tsd-theme") || "os";document.body.style.display="none";setTimeout(() => app?app.showPage():document.body.style.removeProperty("display"),500)</script><header class="tsd-page-toolbar"><div class="tsd-toolbar-contents container"><div class="table-cell" id="tsd-search" data-base="."><div class="field"><label for="tsd-search-field" class="tsd-widget tsd-toolbar-icon search no-caption"><svg width="16" height="16" viewBox="0 0 16 16" fill="none"><use href="assets/icons.svg#icon-search"></use></svg></label><input type="text" id="tsd-search-field" aria-label="Search"/></div><div class="field"><div id="tsd-toolbar-links"></div></div><ul class="results"><li class="state loading">Preparing search index...</li><li class="state failure">The search index is not available</li></ul><a href="index.html" class="title">node-api</a></div><div class="table-cell" id="tsd-widgets"><a href="#" class="tsd-widget tsd-toolbar-icon menu no-caption" data-toggle="menu" aria-label="Menu"><svg width="16" height="16" viewBox="0 0 16 16" fill="none"><use href="assets/icons.svg#icon-menu"></use></svg></a></div></div></header><div class="container container-main"><div class="col-content"><div class="tsd-page-title"><h2>node-api</h2></div><div class="tsd-panel tsd-typography"><p>Sujet du TP: Créer une application en architecture hexagonale
Objectif
Développer une API simple sur le thème de votre choix, en utilisant l&#39;architecture hexagonale. L&#39;API permettre d&#39;afficher la donnée de votre choix (par exemple, une liste de tâches). Du coup, vous ne passerez exclusivement sur des méthodes HTTP GET.</p>
<p>Étapes
Initialisation du projet</p>
<p>Créer un dossier pour le projet et initialiser un dépôt Git.
Initialiser un projet Node.js, vous pouvez vous servir du package.json et du tsconfig.json fournis dans le cours (dans la branche main), n&#39;oubliez pas d&#39;installer les dépendances (npm install ou yarn).
J&#39;ai fais une coquille hier, n&#39;oubliez pas d&#39;installer ts-node-dev en tant que dépendance globale sur votre machine (npm install -g ts-node-dev ou yarn global add ts-node-dev) ou en tant que dépendance de développement (npm install --save-dev ts-node-dev ou yarn add --dev ts-node-dev).
Création de l&#39;architecture du projet</p>
<p>Suivre l&#39;architecture proposée pour créer les dossiers et fichiers nécessaires.
Création de l&#39;entité</p>
<p>Dans src/domain/entities/, créer un fichier typescript qui définit la structure de votre donnée
Création du mock JSON</p>
<p>Dans src/infrastructure/data/, créer un fichier JSON qui contient des données mockées, vous pouvez vous servir d&#39;un outil de génération de données (faker, chatgpt)
Création du repository</p>
<p>Dans src/infrastructure/repositories/, gérez les différentes opérations CRUD sur les données
Création du service</p>
<p>Dans src/domain/services/, implémentez la logique métier, par exemple l&#39;on peut implémenter une méthode pour récupérer toutes vos données, ou une méthode pour récupérer une donnée par son identifiant ou autre.
Création du controller</p>
<p>Dans src/infrastructure/web/controllers/, créer votre controller pour gérer les requêtes HTTP. Vous pouvez utiliser les méthodes du service pour récupérer les données.
Création des routes</p>
<p>Dans src/infrastructure/web/routes/, créer un fichier pour définir les routes de votre API. Utilisez le controller pour gérer les requêtes.
Ajout de middleware</p>
<p>Créer un middleware simple dans src/middlewares/ pour logger les requêtes, par exemple. En utilisant la méthode app.use() d&#39;Express, ajoutez ce middleware à votre application. Mais idéalement, essayez de créer un middleware spécifique pour une route en particulier.
Utilisation des variables d&#39;environnement pour le PORT</p>
<p>Utiliser process.env.PORT pour définir le port du serveur dans src/app.ts. Utilisez la même méthode que celle utilisée en cours (avec le package dotenv, et typage des variables d&#39;environnement).
Finalisation et test de l&#39;API</p>
<p>Démarrer l&#39;application (npm run dev ou yarn start) et tester les endpoints via un client HTTP (Postman, Insomnia) ou directement depuis votre navigateur.</p>
</div></div><div class="col-sidebar"><div class="page-menu"><div class="tsd-navigation settings"><details class="tsd-index-accordion"><summary class="tsd-accordion-summary"><h3><svg width="20" height="20" viewBox="0 0 24 24" fill="none"><use href="assets/icons.svg#icon-chevronDown"></use></svg>Settings</h3></summary><div class="tsd-accordion-details"><div class="tsd-filter-visibility"><h4 class="uppercase">Member Visibility</h4><form><ul id="tsd-filter-options"><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-protected" name="protected"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Protected</span></label></li><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-private" name="private"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Private</span></label></li><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-inherited" name="inherited" checked/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Inherited</span></label></li><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-external" name="external"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>External</span></label></li></ul></form></div><div class="tsd-theme-toggle"><h4 class="uppercase">Theme</h4><select id="tsd-theme"><option value="os">OS</option><option value="light">Light</option><option value="dark">Dark</option></select></div></div></details></div></div><div class="site-menu"><nav class="tsd-navigation"><a href="index.html" class="current"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="assets/icons.svg#icon-1"></use></svg><span>node-api</span></a><ul class="tsd-small-nested-navigation" id="tsd-nav-container" data-base="."><li>Loading...</li></ul></nav></div></div></div><footer><p class="tsd-generator">Generated using <a href="https://typedoc.org/" target="_blank">TypeDoc</a></p></footer><div class="overlay"></div></body></html>